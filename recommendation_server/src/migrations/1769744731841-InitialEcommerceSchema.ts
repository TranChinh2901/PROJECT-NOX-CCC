import { MigrationInterface, QueryRunner } from "typeorm";

export class InitialEcommerceSchema1769744731841 implements MigrationInterface {
    name = 'InitialEcommerceSchema1769744731841'

    public async up(queryRunner: QueryRunner): Promise<void> {
        await queryRunner.query(`CREATE TABLE \`user_sessions\` (\`id\` int NOT NULL AUTO_INCREMENT, \`user_id\` int NULL, \`session_token\` varchar(255) NOT NULL, \`ip_address\` varchar(45) NULL, \`user_agent\` varchar(500) NULL, \`device_type\` enum ('desktop', 'mobile', 'tablet', 'unknown') NOT NULL DEFAULT 'unknown', \`started_at\` timestamp NOT NULL, \`ended_at\` timestamp NULL, \`is_active\` tinyint NOT NULL DEFAULT 1, \`created_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`updated_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), INDEX \`IDX_0c30b2278a5d31e23fcaee4887\` (\`is_active\`), INDEX \`IDX_e9658e959c490b0a634dfc5478\` (\`user_id\`), UNIQUE INDEX \`IDX_e5eb7a3c7766f941fe16b9edec\` (\`session_token\`), PRIMARY KEY (\`id\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`users\` (\`id\` int NOT NULL AUTO_INCREMENT, \`fullname\` varchar(100) NOT NULL, \`email\` varchar(150) NOT NULL, \`phone_number\` varchar(20) NOT NULL, \`address\` varchar(255) NULL, \`avatar\` varchar(255) NULL, \`password\` varchar(255) NOT NULL, \`gender\` enum ('male', 'female') NULL, \`date_of_birth\` date NULL, \`is_verified\` tinyint NOT NULL DEFAULT 0, \`role\` enum ('ADMIN', 'USER') NOT NULL DEFAULT 'USER', \`created_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`updated_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), UNIQUE INDEX \`IDX_97672ac88f789774dd47f7c8be\` (\`email\`), UNIQUE INDEX \`IDX_17d1817f241f10a3dbafb169fd\` (\`phone_number\`), PRIMARY KEY (\`id\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`categories\` (\`id\` int NOT NULL AUTO_INCREMENT, \`name\` varchar(100) NOT NULL, \`slug\` varchar(100) NOT NULL, \`description\` text NULL, \`parent_id\` int NULL, \`image_url\` varchar(255) NULL, \`sort_order\` int NOT NULL DEFAULT '0', \`is_active\` tinyint NOT NULL DEFAULT 1, \`created_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`updated_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), \`deleted_at\` timestamp(6) NULL, UNIQUE INDEX \`IDX_8b0be371d28245da6e4f4b6187\` (\`name\`), UNIQUE INDEX \`IDX_420d9f679d41281f282f5bc7d0\` (\`slug\`), PRIMARY KEY (\`id\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`brands\` (\`id\` int NOT NULL AUTO_INCREMENT, \`name\` varchar(100) NOT NULL, \`slug\` varchar(100) NOT NULL, \`description\` text NULL, \`logo_url\` varchar(255) NULL, \`website_url\` varchar(255) NULL, \`is_active\` tinyint NOT NULL DEFAULT 1, \`created_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`updated_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), \`deleted_at\` timestamp(6) NULL, UNIQUE INDEX \`IDX_96db6bbbaa6f23cad26871339b\` (\`name\`), UNIQUE INDEX \`IDX_b15428f362be2200922952dc26\` (\`slug\`), PRIMARY KEY (\`id\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`products\` (\`id\` int NOT NULL AUTO_INCREMENT, \`category_id\` int NOT NULL, \`brand_id\` int NULL, \`name\` varchar(200) NOT NULL, \`slug\` varchar(200) NOT NULL, \`sku\` varchar(100) NOT NULL, \`description\` text NOT NULL, \`short_description\` varchar(500) NULL, \`base_price\` decimal(10,2) NOT NULL, \`compare_at_price\` decimal(10,2) NULL, \`cost_price\` decimal(10,2) NULL, \`weight_kg\` decimal(8,3) NULL, \`is_active\` tinyint NOT NULL DEFAULT 1, \`is_featured\` tinyint NOT NULL DEFAULT 0, \`meta_title\` varchar(255) NULL, \`meta_description\` varchar(500) NULL, \`created_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`updated_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), \`deleted_at\` timestamp(6) NULL, INDEX \`IDX_3db55e142a0d99d53e7e2ba207\` (\`is_featured\`), INDEX \`IDX_4dcd2cd0cf988da1681469a0f4\` (\`is_active\`), INDEX \`IDX_1530a6f15d3c79d1b70be98f2b\` (\`brand_id\`), INDEX \`IDX_9a5f6868c96e0069e699f33e12\` (\`category_id\`), UNIQUE INDEX \`IDX_464f927ae360106b783ed0b410\` (\`slug\`), UNIQUE INDEX \`IDX_c44ac33a05b144dd0d9ddcf932\` (\`sku\`), PRIMARY KEY (\`id\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`product_variants\` (\`id\` int NOT NULL AUTO_INCREMENT, \`product_id\` int NOT NULL, \`sku\` varchar(100) NOT NULL, \`size\` varchar(50) NULL, \`color\` varchar(50) NULL, \`color_code\` varchar(7) NULL, \`material\` varchar(50) NULL, \`price_adjustment\` decimal(10,2) NOT NULL DEFAULT '0.00', \`final_price\` decimal(10,2) NOT NULL, \`weight_kg\` decimal(8,3) NULL, \`barcode\` varchar(100) NULL, \`is_active\` tinyint NOT NULL DEFAULT 1, \`sort_order\` int NOT NULL DEFAULT '0', \`created_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`updated_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), \`deleted_at\` timestamp(6) NULL, INDEX \`IDX_292092d02dd5be62b8d320c49f\` (\`is_active\`), INDEX \`IDX_6343513e20e2deab45edfce131\` (\`product_id\`), UNIQUE INDEX \`IDX_46f236f21640f9da218a063a86\` (\`sku\`), UNIQUE INDEX \`IDX_62124a7ca2686cbaed42f0d3a2\` (\`barcode\`), PRIMARY KEY (\`id\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`product_images\` (\`id\` int NOT NULL AUTO_INCREMENT, \`product_id\` int NOT NULL, \`variant_id\` int NULL, \`image_url\` varchar(500) NOT NULL, \`thumbnail_url\` varchar(500) NULL, \`alt_text\` varchar(255) NULL, \`sort_order\` int NOT NULL DEFAULT '0', \`is_primary\` tinyint NOT NULL DEFAULT 0, \`created_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`updated_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), \`deleted_at\` timestamp(6) NULL, INDEX \`IDX_40c8197808bffd4ac9919d8cdd\` (\`is_primary\`), INDEX \`IDX_7645bd68229997627f7b219168\` (\`variant_id\`), INDEX \`IDX_4f166bb8c2bfcef2498d97b406\` (\`product_id\`), PRIMARY KEY (\`id\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`warehouses\` (\`id\` int NOT NULL AUTO_INCREMENT, \`name\` varchar(100) NOT NULL, \`code\` varchar(20) NOT NULL, \`address\` varchar(255) NOT NULL, \`city\` varchar(100) NOT NULL, \`country\` varchar(100) NOT NULL DEFAULT 'Vietnam', \`contact_name\` varchar(100) NULL, \`contact_phone\` varchar(20) NULL, \`contact_email\` varchar(150) NULL, \`is_active\` tinyint NOT NULL DEFAULT 1, \`is_default\` tinyint NOT NULL DEFAULT 0, \`created_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`updated_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), \`deleted_at\` timestamp(6) NULL, UNIQUE INDEX \`IDX_d8b96d60ff9a288f5ed862280d\` (\`code\`), PRIMARY KEY (\`id\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`inventory\` (\`id\` int NOT NULL AUTO_INCREMENT, \`variant_id\` int NOT NULL, \`warehouse_id\` int NOT NULL, \`quantity_available\` int NOT NULL DEFAULT '0', \`quantity_reserved\` int NOT NULL DEFAULT '0', \`quantity_total\` int NOT NULL DEFAULT '0', \`reorder_level\` int NOT NULL DEFAULT '10', \`reorder_quantity\` int NULL, \`last_counted_at\` timestamp NULL, \`created_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`updated_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), INDEX \`IDX_132afd50234ee763c1e15c5f26\` (\`quantity_available\`), INDEX \`IDX_5d9d73a4c5fe0202714a51e464\` (\`warehouse_id\`), INDEX \`IDX_ceba910e3505fc54c3c7f92c94\` (\`variant_id\`), UNIQUE INDEX \`IDX_985d7719cc4d78d72f45574883\` (\`variant_id\`, \`warehouse_id\`), PRIMARY KEY (\`id\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`inventory_logs\` (\`id\` int NOT NULL AUTO_INCREMENT, \`inventory_id\` int NOT NULL, \`variant_id\` int NOT NULL, \`warehouse_id\` int NOT NULL, \`action_type\` enum ('sale', 'restock', 'adjustment', 'return', 'transfer_in', 'transfer_out') NOT NULL, \`quantity_change\` int NOT NULL, \`quantity_before\` int NOT NULL, \`quantity_after\` int NOT NULL, \`reference_id\` int NULL, \`reference_type\` varchar(50) NULL, \`notes\` text NULL, \`performed_by\` varchar(100) NULL, \`created_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), INDEX \`IDX_faf666386b22734e6e56326ac8\` (\`created_at\`), INDEX \`IDX_0eb973058f7d21bab24a642768\` (\`action_type\`), INDEX \`IDX_5132c139264f494991a4445374\` (\`variant_id\`), INDEX \`IDX_1608cc9510a9beab02f165ebfe\` (\`inventory_id\`), PRIMARY KEY (\`id\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`cart_items\` (\`id\` int NOT NULL AUTO_INCREMENT, \`cart_id\` int NOT NULL, \`variant_id\` int NOT NULL, \`quantity\` int NOT NULL DEFAULT '1', \`unit_price\` decimal(10,2) NOT NULL, \`total_price\` decimal(10,2) NOT NULL, \`added_at\` timestamp NOT NULL, \`updated_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), \`deleted_at\` timestamp(6) NULL, INDEX \`IDX_ede780fc2b865d1d1323e59803\` (\`variant_id\`), INDEX \`IDX_6385a745d9e12a89b859bb2562\` (\`cart_id\`), UNIQUE INDEX \`IDX_d1a62275445322e93824d33dbf\` (\`cart_id\`, \`variant_id\`), PRIMARY KEY (\`id\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`carts\` (\`id\` int NOT NULL AUTO_INCREMENT, \`user_id\` int NULL, \`session_id\` int NULL, \`status\` enum ('active', 'converted', 'abandoned') NOT NULL DEFAULT 'active', \`total_amount\` decimal(10,2) NOT NULL DEFAULT '0.00', \`item_count\` int NOT NULL DEFAULT '0', \`currency\` varchar(3) NOT NULL DEFAULT 'VND', \`expires_at\` timestamp NULL, \`created_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`updated_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), \`deleted_at\` timestamp(6) NULL, INDEX \`IDX_2ac9384d46d2c642a3855a7ea2\` (\`status\`), INDEX \`IDX_f57f87515b7c25718dc380c69c\` (\`session_id\`), INDEX \`IDX_2ec1c94a977b940d85a4f498ae\` (\`user_id\`), PRIMARY KEY (\`id\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`order_items\` (\`id\` int NOT NULL AUTO_INCREMENT, \`order_id\` int NOT NULL, \`variant_id\` int NOT NULL, \`product_snapshot\` json NOT NULL, \`quantity\` int NOT NULL, \`unit_price\` decimal(10,2) NOT NULL, \`total_price\` decimal(10,2) NOT NULL, \`discount_amount\` decimal(10,2) NOT NULL DEFAULT '0.00', \`created_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`updated_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), INDEX \`IDX_db2d0ea722e16e0fe8ab3bce11\` (\`variant_id\`), INDEX \`IDX_145532db85752b29c57d2b7b1f\` (\`order_id\`), PRIMARY KEY (\`id\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`order_status_histories\` (\`id\` int NOT NULL AUTO_INCREMENT, \`order_id\` int NOT NULL, \`status\` enum ('pending', 'confirmed', 'processing', 'shipped', 'delivered', 'cancelled', 'refunded') NOT NULL, \`previous_status\` enum ('pending', 'confirmed', 'processing', 'shipped', 'delivered', 'cancelled', 'refunded') NULL, \`changed_by\` varchar(100) NULL, \`notes\` text NULL, \`created_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), INDEX \`IDX_529791717165559256e8ed191f\` (\`order_id\`), PRIMARY KEY (\`id\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`orders\` (\`id\` int NOT NULL AUTO_INCREMENT, \`order_number\` varchar(20) NOT NULL, \`user_id\` int NOT NULL, \`cart_id\` int NULL, \`status\` enum ('pending', 'confirmed', 'processing', 'shipped', 'delivered', 'cancelled', 'refunded') NOT NULL DEFAULT 'pending', \`payment_status\` enum ('pending', 'paid', 'failed', 'refunded') NOT NULL DEFAULT 'pending', \`payment_method\` enum ('cod', 'credit_card', 'bank_transfer', 'e_wallet') NOT NULL, \`shipping_address\` json NOT NULL, \`billing_address\` json NOT NULL, \`subtotal\` decimal(10,2) NOT NULL, \`discount_amount\` decimal(10,2) NOT NULL DEFAULT '0.00', \`shipping_amount\` decimal(10,2) NOT NULL DEFAULT '0.00', \`tax_amount\` decimal(10,2) NOT NULL DEFAULT '0.00', \`total_amount\` decimal(10,2) NOT NULL, \`currency\` varchar(3) NOT NULL DEFAULT 'VND', \`notes\` text NULL, \`internal_notes\` text NULL, \`tracking_number\` varchar(100) NULL, \`shipped_at\` timestamp NULL, \`delivered_at\` timestamp NULL, \`created_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`updated_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), \`deleted_at\` timestamp(6) NULL, INDEX \`IDX_892cef7cd3962597f0a1c00679\` (\`payment_status\`), INDEX \`IDX_775c9f06fc27ae3ff8fb26f2c4\` (\`status\`), INDEX \`IDX_a922b820eeef29ac1c6800e826\` (\`user_id\`), UNIQUE INDEX \`IDX_75eba1c6b1a66b09f2a97e6927\` (\`order_number\`), PRIMARY KEY (\`id\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`review_helpful\` (\`id\` int NOT NULL AUTO_INCREMENT, \`review_id\` int NOT NULL, \`user_id\` int NOT NULL, \`is_helpful\` tinyint NOT NULL, \`created_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), INDEX \`IDX_5c3d532ea4e3a5015a2cfe5c74\` (\`user_id\`), INDEX \`IDX_c20fcbb92d3d3f328bf22bac4c\` (\`review_id\`), UNIQUE INDEX \`IDX_636e9a5efc3e4f3126a72f20c5\` (\`review_id\`, \`user_id\`), PRIMARY KEY (\`id\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`reviews\` (\`id\` int NOT NULL AUTO_INCREMENT, \`product_id\` int NOT NULL, \`user_id\` int NOT NULL, \`order_item_id\` int NOT NULL, \`rating\` int NOT NULL, \`title\` varchar(200) NULL, \`content\` text NOT NULL, \`is_verified_purchase\` tinyint NOT NULL DEFAULT 0, \`is_approved\` tinyint NOT NULL DEFAULT 0, \`helpful_count\` int NOT NULL DEFAULT '0', \`not_helpful_count\` int NOT NULL DEFAULT '0', \`created_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`updated_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), \`deleted_at\` timestamp(6) NULL, INDEX \`IDX_09fa7773892be657dec51f0f45\` (\`is_approved\`), INDEX \`IDX_f4b88c05a7adf404a6e6b2f1eb\` (\`rating\`), INDEX \`IDX_728447781a30bc3fcfe5c2f1cd\` (\`user_id\`), INDEX \`IDX_9482e9567d8dcc2bc615981ef4\` (\`product_id\`), PRIMARY KEY (\`id\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`wishlist_items\` (\`id\` int NOT NULL AUTO_INCREMENT, \`user_id\` int NOT NULL, \`variant_id\` int NOT NULL, \`notes\` varchar(500) NULL, \`priority\` enum ('low', 'medium', 'high') NOT NULL DEFAULT 'medium', \`added_at\` timestamp NOT NULL, \`created_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`updated_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), INDEX \`IDX_d259371e07f5ffb3ee3bbac627\` (\`variant_id\`), INDEX \`IDX_549f44d8b756e2690deb099f83\` (\`user_id\`), UNIQUE INDEX \`IDX_e9e07c684622b8178b4919a5ff\` (\`user_id\`, \`variant_id\`), PRIMARY KEY (\`id\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`promotion_usage\` (\`id\` int NOT NULL AUTO_INCREMENT, \`promotion_id\` int NOT NULL, \`order_id\` int NOT NULL, \`user_id\` int NOT NULL, \`discount_amount\` decimal(10,2) NOT NULL, \`used_at\` timestamp NOT NULL, INDEX \`IDX_f00c80d5a1020449c9c3c18cca\` (\`user_id\`), INDEX \`IDX_727f771c9189c435874a5f5719\` (\`order_id\`), INDEX \`IDX_51b1d9ae72d9343d0a27e6231d\` (\`promotion_id\`), PRIMARY KEY (\`id\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`promotions\` (\`id\` int NOT NULL AUTO_INCREMENT, \`code\` varchar(50) NOT NULL, \`name\` varchar(100) NOT NULL, \`description\` text NULL, \`type\` enum ('percentage', 'fixed_amount', 'free_shipping') NOT NULL, \`value\` decimal(10,2) NOT NULL, \`min_order_amount\` decimal(10,2) NULL, \`max_discount_amount\` decimal(10,2) NULL, \`usage_limit\` int NULL, \`usage_limit_per_user\` int NULL, \`starts_at\` timestamp NULL, \`ends_at\` timestamp NULL, \`is_active\` tinyint NOT NULL DEFAULT 1, \`applies_to\` enum ('all', 'categories', 'products') NOT NULL DEFAULT 'all', \`applicable_ids\` json NULL, \`created_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`updated_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), \`deleted_at\` timestamp(6) NULL, INDEX \`IDX_94fa83e14798063498a8f5222d\` (\`ends_at\`), INDEX \`IDX_64c14b99bd25cbe1ef56c43d56\` (\`starts_at\`), INDEX \`IDX_47f90257efdcd9a80462465816\` (\`is_active\`), UNIQUE INDEX \`IDX_8ab10e580f70c3d2e2e4b31ebf\` (\`code\`), PRIMARY KEY (\`id\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`user_behavior_logs\` (\`id\` int NOT NULL AUTO_INCREMENT, \`session_id\` int NOT NULL, \`user_id\` int NULL, \`action_type\` enum ('view', 'click', 'add_to_cart', 'remove_from_cart', 'purchase', 'search', 'wishlist_add', 'review_view') NOT NULL, \`product_id\` int NULL, \`variant_id\` int NULL, \`search_query\` varchar(255) NULL, \`metadata\` json NULL, \`device_type\` enum ('desktop', 'mobile', 'tablet', 'unknown') NOT NULL, \`referrer_url\` varchar(500) NULL, \`page_url\` varchar(500) NOT NULL, \`ip_address\` varchar(45) NULL, \`session_duration_seconds\` int NULL, \`created_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), INDEX \`IDX_1ac73bed823e89bd15d309d5f7\` (\`product_id\`), INDEX \`IDX_0d590d024a769bdb36ab7f3abb\` (\`action_type\`), INDEX \`IDX_7a86fe634b5e6fa07e99ef9dc6\` (\`user_id\`), INDEX \`IDX_0cfd91e4e7fcb535ab093c78cd\` (\`session_id\`, \`created_at\`), PRIMARY KEY (\`id\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`product_features\` (\`id\` int NOT NULL AUTO_INCREMENT, \`product_id\` int NOT NULL, \`feature_type\` enum ('category', 'style', 'occasion', 'season', 'pattern', 'fabric_type', 'attribute') NOT NULL, \`feature_value\` varchar(100) NOT NULL, \`confidence_score\` decimal(3,2) NULL, \`source\` enum ('manual', 'ai_extracted', 'imported') NOT NULL DEFAULT 'manual', \`weight\` int NOT NULL DEFAULT '1', \`created_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`updated_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), INDEX \`IDX_744d17eda705caefe005310bf2\` (\`feature_value\`), INDEX \`IDX_3966461eca68d8507c162e9f72\` (\`feature_type\`), INDEX \`IDX_939542cc775c7bb88faf24b23a\` (\`product_id\`), UNIQUE INDEX \`IDX_a159fe82495308c896b5f8ea4e\` (\`product_id\`, \`feature_type\`, \`feature_value\`), PRIMARY KEY (\`id\`)) ENGINE=InnoDB`);
        await queryRunner.query(`CREATE TABLE \`recommendation_cache\` (\`id\` int NOT NULL AUTO_INCREMENT, \`user_id\` int NULL, \`product_id\` int NULL, \`recommendation_type\` enum ('similar', 'personalized', 'trending', 'complementary', 'frequently_bought_together') NOT NULL, \`algorithm\` varchar(50) NOT NULL DEFAULT 'third_party', \`recommended_products\` json NOT NULL, \`context_data\` json NULL, \`expires_at\` timestamp NOT NULL, \`generated_at\` timestamp NOT NULL, \`cache_hit_count\` int NOT NULL DEFAULT '0', \`is_active\` tinyint NOT NULL DEFAULT 1, \`created_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6), \`updated_at\` timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6), INDEX \`IDX_14d997b6a2433a33027f9f1d49\` (\`is_active\`), INDEX \`IDX_1cb50f2dc940534057b06a6b0a\` (\`expires_at\`), INDEX \`IDX_737c0d43879c2fe8af314b4751\` (\`recommendation_type\`), INDEX \`IDX_d5252f132bd7ba82db3a3cf124\` (\`product_id\`), INDEX \`IDX_27dd9cb4ebfe5d3344ef9e945d\` (\`user_id\`), UNIQUE INDEX \`IDX_7fe23d1764f7bfcb3dff2c103a\` (\`user_id\`, \`product_id\`, \`recommendation_type\`), PRIMARY KEY (\`id\`)) ENGINE=InnoDB`);
        await queryRunner.query(`ALTER TABLE \`user_sessions\` ADD CONSTRAINT \`FK_e9658e959c490b0a634dfc54783\` FOREIGN KEY (\`user_id\`) REFERENCES \`users\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`categories\` ADD CONSTRAINT \`FK_88cea2dc9c31951d06437879b40\` FOREIGN KEY (\`parent_id\`) REFERENCES \`categories\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`products\` ADD CONSTRAINT \`FK_9a5f6868c96e0069e699f33e124\` FOREIGN KEY (\`category_id\`) REFERENCES \`categories\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`products\` ADD CONSTRAINT \`FK_1530a6f15d3c79d1b70be98f2be\` FOREIGN KEY (\`brand_id\`) REFERENCES \`brands\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`product_variants\` ADD CONSTRAINT \`FK_6343513e20e2deab45edfce1316\` FOREIGN KEY (\`product_id\`) REFERENCES \`products\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`product_images\` ADD CONSTRAINT \`FK_4f166bb8c2bfcef2498d97b4068\` FOREIGN KEY (\`product_id\`) REFERENCES \`products\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`product_images\` ADD CONSTRAINT \`FK_7645bd68229997627f7b2191687\` FOREIGN KEY (\`variant_id\`) REFERENCES \`product_variants\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`inventory\` ADD CONSTRAINT \`FK_ceba910e3505fc54c3c7f92c943\` FOREIGN KEY (\`variant_id\`) REFERENCES \`product_variants\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`inventory\` ADD CONSTRAINT \`FK_5d9d73a4c5fe0202714a51e4649\` FOREIGN KEY (\`warehouse_id\`) REFERENCES \`warehouses\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`inventory_logs\` ADD CONSTRAINT \`FK_1608cc9510a9beab02f165ebfee\` FOREIGN KEY (\`inventory_id\`) REFERENCES \`inventory\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`inventory_logs\` ADD CONSTRAINT \`FK_5132c139264f494991a44453746\` FOREIGN KEY (\`variant_id\`) REFERENCES \`product_variants\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`inventory_logs\` ADD CONSTRAINT \`FK_df4ba346e372a66c22cc06b7402\` FOREIGN KEY (\`warehouse_id\`) REFERENCES \`warehouses\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`cart_items\` ADD CONSTRAINT \`FK_6385a745d9e12a89b859bb25623\` FOREIGN KEY (\`cart_id\`) REFERENCES \`carts\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`cart_items\` ADD CONSTRAINT \`FK_ede780fc2b865d1d1323e598038\` FOREIGN KEY (\`variant_id\`) REFERENCES \`product_variants\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`carts\` ADD CONSTRAINT \`FK_2ec1c94a977b940d85a4f498aea\` FOREIGN KEY (\`user_id\`) REFERENCES \`users\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`carts\` ADD CONSTRAINT \`FK_f57f87515b7c25718dc380c69c7\` FOREIGN KEY (\`session_id\`) REFERENCES \`user_sessions\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`order_items\` ADD CONSTRAINT \`FK_145532db85752b29c57d2b7b1f1\` FOREIGN KEY (\`order_id\`) REFERENCES \`orders\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`order_items\` ADD CONSTRAINT \`FK_db2d0ea722e16e0fe8ab3bce111\` FOREIGN KEY (\`variant_id\`) REFERENCES \`product_variants\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`order_status_histories\` ADD CONSTRAINT \`FK_529791717165559256e8ed191fe\` FOREIGN KEY (\`order_id\`) REFERENCES \`orders\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`orders\` ADD CONSTRAINT \`FK_a922b820eeef29ac1c6800e826a\` FOREIGN KEY (\`user_id\`) REFERENCES \`users\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`orders\` ADD CONSTRAINT \`FK_f42b1d95404c45b10bf2451d814\` FOREIGN KEY (\`cart_id\`) REFERENCES \`carts\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`review_helpful\` ADD CONSTRAINT \`FK_c20fcbb92d3d3f328bf22bac4cc\` FOREIGN KEY (\`review_id\`) REFERENCES \`reviews\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`review_helpful\` ADD CONSTRAINT \`FK_5c3d532ea4e3a5015a2cfe5c74e\` FOREIGN KEY (\`user_id\`) REFERENCES \`users\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`reviews\` ADD CONSTRAINT \`FK_9482e9567d8dcc2bc615981ef44\` FOREIGN KEY (\`product_id\`) REFERENCES \`products\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`reviews\` ADD CONSTRAINT \`FK_728447781a30bc3fcfe5c2f1cdf\` FOREIGN KEY (\`user_id\`) REFERENCES \`users\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`reviews\` ADD CONSTRAINT \`FK_eb97a06e4fcd030190bd8155dae\` FOREIGN KEY (\`order_item_id\`) REFERENCES \`order_items\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`wishlist_items\` ADD CONSTRAINT \`FK_549f44d8b756e2690deb099f83b\` FOREIGN KEY (\`user_id\`) REFERENCES \`users\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`wishlist_items\` ADD CONSTRAINT \`FK_d259371e07f5ffb3ee3bbac6278\` FOREIGN KEY (\`variant_id\`) REFERENCES \`product_variants\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`promotion_usage\` ADD CONSTRAINT \`FK_51b1d9ae72d9343d0a27e6231d7\` FOREIGN KEY (\`promotion_id\`) REFERENCES \`promotions\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`promotion_usage\` ADD CONSTRAINT \`FK_727f771c9189c435874a5f57190\` FOREIGN KEY (\`order_id\`) REFERENCES \`orders\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`promotion_usage\` ADD CONSTRAINT \`FK_f00c80d5a1020449c9c3c18cca1\` FOREIGN KEY (\`user_id\`) REFERENCES \`users\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`user_behavior_logs\` ADD CONSTRAINT \`FK_bb4b4a88d66c839552db4668ed9\` FOREIGN KEY (\`session_id\`) REFERENCES \`user_sessions\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`user_behavior_logs\` ADD CONSTRAINT \`FK_7a86fe634b5e6fa07e99ef9dc62\` FOREIGN KEY (\`user_id\`) REFERENCES \`users\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`user_behavior_logs\` ADD CONSTRAINT \`FK_1ac73bed823e89bd15d309d5f7f\` FOREIGN KEY (\`product_id\`) REFERENCES \`products\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`user_behavior_logs\` ADD CONSTRAINT \`FK_a17a83ac55df122801c21e88a1a\` FOREIGN KEY (\`variant_id\`) REFERENCES \`product_variants\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`product_features\` ADD CONSTRAINT \`FK_939542cc775c7bb88faf24b23ab\` FOREIGN KEY (\`product_id\`) REFERENCES \`products\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`recommendation_cache\` ADD CONSTRAINT \`FK_27dd9cb4ebfe5d3344ef9e945da\` FOREIGN KEY (\`user_id\`) REFERENCES \`users\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE \`recommendation_cache\` ADD CONSTRAINT \`FK_d5252f132bd7ba82db3a3cf1243\` FOREIGN KEY (\`product_id\`) REFERENCES \`products\`(\`id\`) ON DELETE NO ACTION ON UPDATE NO ACTION`);
    }

    public async down(queryRunner: QueryRunner): Promise<void> {
        await queryRunner.query(`ALTER TABLE \`recommendation_cache\` DROP FOREIGN KEY \`FK_d5252f132bd7ba82db3a3cf1243\``);
        await queryRunner.query(`ALTER TABLE \`recommendation_cache\` DROP FOREIGN KEY \`FK_27dd9cb4ebfe5d3344ef9e945da\``);
        await queryRunner.query(`ALTER TABLE \`product_features\` DROP FOREIGN KEY \`FK_939542cc775c7bb88faf24b23ab\``);
        await queryRunner.query(`ALTER TABLE \`user_behavior_logs\` DROP FOREIGN KEY \`FK_a17a83ac55df122801c21e88a1a\``);
        await queryRunner.query(`ALTER TABLE \`user_behavior_logs\` DROP FOREIGN KEY \`FK_1ac73bed823e89bd15d309d5f7f\``);
        await queryRunner.query(`ALTER TABLE \`user_behavior_logs\` DROP FOREIGN KEY \`FK_7a86fe634b5e6fa07e99ef9dc62\``);
        await queryRunner.query(`ALTER TABLE \`user_behavior_logs\` DROP FOREIGN KEY \`FK_bb4b4a88d66c839552db4668ed9\``);
        await queryRunner.query(`ALTER TABLE \`promotion_usage\` DROP FOREIGN KEY \`FK_f00c80d5a1020449c9c3c18cca1\``);
        await queryRunner.query(`ALTER TABLE \`promotion_usage\` DROP FOREIGN KEY \`FK_727f771c9189c435874a5f57190\``);
        await queryRunner.query(`ALTER TABLE \`promotion_usage\` DROP FOREIGN KEY \`FK_51b1d9ae72d9343d0a27e6231d7\``);
        await queryRunner.query(`ALTER TABLE \`wishlist_items\` DROP FOREIGN KEY \`FK_d259371e07f5ffb3ee3bbac6278\``);
        await queryRunner.query(`ALTER TABLE \`wishlist_items\` DROP FOREIGN KEY \`FK_549f44d8b756e2690deb099f83b\``);
        await queryRunner.query(`ALTER TABLE \`reviews\` DROP FOREIGN KEY \`FK_eb97a06e4fcd030190bd8155dae\``);
        await queryRunner.query(`ALTER TABLE \`reviews\` DROP FOREIGN KEY \`FK_728447781a30bc3fcfe5c2f1cdf\``);
        await queryRunner.query(`ALTER TABLE \`reviews\` DROP FOREIGN KEY \`FK_9482e9567d8dcc2bc615981ef44\``);
        await queryRunner.query(`ALTER TABLE \`review_helpful\` DROP FOREIGN KEY \`FK_5c3d532ea4e3a5015a2cfe5c74e\``);
        await queryRunner.query(`ALTER TABLE \`review_helpful\` DROP FOREIGN KEY \`FK_c20fcbb92d3d3f328bf22bac4cc\``);
        await queryRunner.query(`ALTER TABLE \`orders\` DROP FOREIGN KEY \`FK_f42b1d95404c45b10bf2451d814\``);
        await queryRunner.query(`ALTER TABLE \`orders\` DROP FOREIGN KEY \`FK_a922b820eeef29ac1c6800e826a\``);
        await queryRunner.query(`ALTER TABLE \`order_status_histories\` DROP FOREIGN KEY \`FK_529791717165559256e8ed191fe\``);
        await queryRunner.query(`ALTER TABLE \`order_items\` DROP FOREIGN KEY \`FK_db2d0ea722e16e0fe8ab3bce111\``);
        await queryRunner.query(`ALTER TABLE \`order_items\` DROP FOREIGN KEY \`FK_145532db85752b29c57d2b7b1f1\``);
        await queryRunner.query(`ALTER TABLE \`carts\` DROP FOREIGN KEY \`FK_f57f87515b7c25718dc380c69c7\``);
        await queryRunner.query(`ALTER TABLE \`carts\` DROP FOREIGN KEY \`FK_2ec1c94a977b940d85a4f498aea\``);
        await queryRunner.query(`ALTER TABLE \`cart_items\` DROP FOREIGN KEY \`FK_ede780fc2b865d1d1323e598038\``);
        await queryRunner.query(`ALTER TABLE \`cart_items\` DROP FOREIGN KEY \`FK_6385a745d9e12a89b859bb25623\``);
        await queryRunner.query(`ALTER TABLE \`inventory_logs\` DROP FOREIGN KEY \`FK_df4ba346e372a66c22cc06b7402\``);
        await queryRunner.query(`ALTER TABLE \`inventory_logs\` DROP FOREIGN KEY \`FK_5132c139264f494991a44453746\``);
        await queryRunner.query(`ALTER TABLE \`inventory_logs\` DROP FOREIGN KEY \`FK_1608cc9510a9beab02f165ebfee\``);
        await queryRunner.query(`ALTER TABLE \`inventory\` DROP FOREIGN KEY \`FK_5d9d73a4c5fe0202714a51e4649\``);
        await queryRunner.query(`ALTER TABLE \`inventory\` DROP FOREIGN KEY \`FK_ceba910e3505fc54c3c7f92c943\``);
        await queryRunner.query(`ALTER TABLE \`product_images\` DROP FOREIGN KEY \`FK_7645bd68229997627f7b2191687\``);
        await queryRunner.query(`ALTER TABLE \`product_images\` DROP FOREIGN KEY \`FK_4f166bb8c2bfcef2498d97b4068\``);
        await queryRunner.query(`ALTER TABLE \`product_variants\` DROP FOREIGN KEY \`FK_6343513e20e2deab45edfce1316\``);
        await queryRunner.query(`ALTER TABLE \`products\` DROP FOREIGN KEY \`FK_1530a6f15d3c79d1b70be98f2be\``);
        await queryRunner.query(`ALTER TABLE \`products\` DROP FOREIGN KEY \`FK_9a5f6868c96e0069e699f33e124\``);
        await queryRunner.query(`ALTER TABLE \`categories\` DROP FOREIGN KEY \`FK_88cea2dc9c31951d06437879b40\``);
        await queryRunner.query(`ALTER TABLE \`user_sessions\` DROP FOREIGN KEY \`FK_e9658e959c490b0a634dfc54783\``);
        await queryRunner.query(`DROP INDEX \`IDX_7fe23d1764f7bfcb3dff2c103a\` ON \`recommendation_cache\``);
        await queryRunner.query(`DROP INDEX \`IDX_27dd9cb4ebfe5d3344ef9e945d\` ON \`recommendation_cache\``);
        await queryRunner.query(`DROP INDEX \`IDX_d5252f132bd7ba82db3a3cf124\` ON \`recommendation_cache\``);
        await queryRunner.query(`DROP INDEX \`IDX_737c0d43879c2fe8af314b4751\` ON \`recommendation_cache\``);
        await queryRunner.query(`DROP INDEX \`IDX_1cb50f2dc940534057b06a6b0a\` ON \`recommendation_cache\``);
        await queryRunner.query(`DROP INDEX \`IDX_14d997b6a2433a33027f9f1d49\` ON \`recommendation_cache\``);
        await queryRunner.query(`DROP TABLE \`recommendation_cache\``);
        await queryRunner.query(`DROP INDEX \`IDX_a159fe82495308c896b5f8ea4e\` ON \`product_features\``);
        await queryRunner.query(`DROP INDEX \`IDX_939542cc775c7bb88faf24b23a\` ON \`product_features\``);
        await queryRunner.query(`DROP INDEX \`IDX_3966461eca68d8507c162e9f72\` ON \`product_features\``);
        await queryRunner.query(`DROP INDEX \`IDX_744d17eda705caefe005310bf2\` ON \`product_features\``);
        await queryRunner.query(`DROP TABLE \`product_features\``);
        await queryRunner.query(`DROP INDEX \`IDX_0cfd91e4e7fcb535ab093c78cd\` ON \`user_behavior_logs\``);
        await queryRunner.query(`DROP INDEX \`IDX_7a86fe634b5e6fa07e99ef9dc6\` ON \`user_behavior_logs\``);
        await queryRunner.query(`DROP INDEX \`IDX_0d590d024a769bdb36ab7f3abb\` ON \`user_behavior_logs\``);
        await queryRunner.query(`DROP INDEX \`IDX_1ac73bed823e89bd15d309d5f7\` ON \`user_behavior_logs\``);
        await queryRunner.query(`DROP TABLE \`user_behavior_logs\``);
        await queryRunner.query(`DROP INDEX \`IDX_8ab10e580f70c3d2e2e4b31ebf\` ON \`promotions\``);
        await queryRunner.query(`DROP INDEX \`IDX_47f90257efdcd9a80462465816\` ON \`promotions\``);
        await queryRunner.query(`DROP INDEX \`IDX_64c14b99bd25cbe1ef56c43d56\` ON \`promotions\``);
        await queryRunner.query(`DROP INDEX \`IDX_94fa83e14798063498a8f5222d\` ON \`promotions\``);
        await queryRunner.query(`DROP TABLE \`promotions\``);
        await queryRunner.query(`DROP INDEX \`IDX_51b1d9ae72d9343d0a27e6231d\` ON \`promotion_usage\``);
        await queryRunner.query(`DROP INDEX \`IDX_727f771c9189c435874a5f5719\` ON \`promotion_usage\``);
        await queryRunner.query(`DROP INDEX \`IDX_f00c80d5a1020449c9c3c18cca\` ON \`promotion_usage\``);
        await queryRunner.query(`DROP TABLE \`promotion_usage\``);
        await queryRunner.query(`DROP INDEX \`IDX_e9e07c684622b8178b4919a5ff\` ON \`wishlist_items\``);
        await queryRunner.query(`DROP INDEX \`IDX_549f44d8b756e2690deb099f83\` ON \`wishlist_items\``);
        await queryRunner.query(`DROP INDEX \`IDX_d259371e07f5ffb3ee3bbac627\` ON \`wishlist_items\``);
        await queryRunner.query(`DROP TABLE \`wishlist_items\``);
        await queryRunner.query(`DROP INDEX \`IDX_9482e9567d8dcc2bc615981ef4\` ON \`reviews\``);
        await queryRunner.query(`DROP INDEX \`IDX_728447781a30bc3fcfe5c2f1cd\` ON \`reviews\``);
        await queryRunner.query(`DROP INDEX \`IDX_f4b88c05a7adf404a6e6b2f1eb\` ON \`reviews\``);
        await queryRunner.query(`DROP INDEX \`IDX_09fa7773892be657dec51f0f45\` ON \`reviews\``);
        await queryRunner.query(`DROP TABLE \`reviews\``);
        await queryRunner.query(`DROP INDEX \`IDX_636e9a5efc3e4f3126a72f20c5\` ON \`review_helpful\``);
        await queryRunner.query(`DROP INDEX \`IDX_c20fcbb92d3d3f328bf22bac4c\` ON \`review_helpful\``);
        await queryRunner.query(`DROP INDEX \`IDX_5c3d532ea4e3a5015a2cfe5c74\` ON \`review_helpful\``);
        await queryRunner.query(`DROP TABLE \`review_helpful\``);
        await queryRunner.query(`DROP INDEX \`IDX_75eba1c6b1a66b09f2a97e6927\` ON \`orders\``);
        await queryRunner.query(`DROP INDEX \`IDX_a922b820eeef29ac1c6800e826\` ON \`orders\``);
        await queryRunner.query(`DROP INDEX \`IDX_775c9f06fc27ae3ff8fb26f2c4\` ON \`orders\``);
        await queryRunner.query(`DROP INDEX \`IDX_892cef7cd3962597f0a1c00679\` ON \`orders\``);
        await queryRunner.query(`DROP TABLE \`orders\``);
        await queryRunner.query(`DROP INDEX \`IDX_529791717165559256e8ed191f\` ON \`order_status_histories\``);
        await queryRunner.query(`DROP TABLE \`order_status_histories\``);
        await queryRunner.query(`DROP INDEX \`IDX_145532db85752b29c57d2b7b1f\` ON \`order_items\``);
        await queryRunner.query(`DROP INDEX \`IDX_db2d0ea722e16e0fe8ab3bce11\` ON \`order_items\``);
        await queryRunner.query(`DROP TABLE \`order_items\``);
        await queryRunner.query(`DROP INDEX \`IDX_2ec1c94a977b940d85a4f498ae\` ON \`carts\``);
        await queryRunner.query(`DROP INDEX \`IDX_f57f87515b7c25718dc380c69c\` ON \`carts\``);
        await queryRunner.query(`DROP INDEX \`IDX_2ac9384d46d2c642a3855a7ea2\` ON \`carts\``);
        await queryRunner.query(`DROP TABLE \`carts\``);
        await queryRunner.query(`DROP INDEX \`IDX_d1a62275445322e93824d33dbf\` ON \`cart_items\``);
        await queryRunner.query(`DROP INDEX \`IDX_6385a745d9e12a89b859bb2562\` ON \`cart_items\``);
        await queryRunner.query(`DROP INDEX \`IDX_ede780fc2b865d1d1323e59803\` ON \`cart_items\``);
        await queryRunner.query(`DROP TABLE \`cart_items\``);
        await queryRunner.query(`DROP INDEX \`IDX_1608cc9510a9beab02f165ebfe\` ON \`inventory_logs\``);
        await queryRunner.query(`DROP INDEX \`IDX_5132c139264f494991a4445374\` ON \`inventory_logs\``);
        await queryRunner.query(`DROP INDEX \`IDX_0eb973058f7d21bab24a642768\` ON \`inventory_logs\``);
        await queryRunner.query(`DROP INDEX \`IDX_faf666386b22734e6e56326ac8\` ON \`inventory_logs\``);
        await queryRunner.query(`DROP TABLE \`inventory_logs\``);
        await queryRunner.query(`DROP INDEX \`IDX_985d7719cc4d78d72f45574883\` ON \`inventory\``);
        await queryRunner.query(`DROP INDEX \`IDX_ceba910e3505fc54c3c7f92c94\` ON \`inventory\``);
        await queryRunner.query(`DROP INDEX \`IDX_5d9d73a4c5fe0202714a51e464\` ON \`inventory\``);
        await queryRunner.query(`DROP INDEX \`IDX_132afd50234ee763c1e15c5f26\` ON \`inventory\``);
        await queryRunner.query(`DROP TABLE \`inventory\``);
        await queryRunner.query(`DROP INDEX \`IDX_d8b96d60ff9a288f5ed862280d\` ON \`warehouses\``);
        await queryRunner.query(`DROP TABLE \`warehouses\``);
        await queryRunner.query(`DROP INDEX \`IDX_4f166bb8c2bfcef2498d97b406\` ON \`product_images\``);
        await queryRunner.query(`DROP INDEX \`IDX_7645bd68229997627f7b219168\` ON \`product_images\``);
        await queryRunner.query(`DROP INDEX \`IDX_40c8197808bffd4ac9919d8cdd\` ON \`product_images\``);
        await queryRunner.query(`DROP TABLE \`product_images\``);
        await queryRunner.query(`DROP INDEX \`IDX_62124a7ca2686cbaed42f0d3a2\` ON \`product_variants\``);
        await queryRunner.query(`DROP INDEX \`IDX_46f236f21640f9da218a063a86\` ON \`product_variants\``);
        await queryRunner.query(`DROP INDEX \`IDX_6343513e20e2deab45edfce131\` ON \`product_variants\``);
        await queryRunner.query(`DROP INDEX \`IDX_292092d02dd5be62b8d320c49f\` ON \`product_variants\``);
        await queryRunner.query(`DROP TABLE \`product_variants\``);
        await queryRunner.query(`DROP INDEX \`IDX_c44ac33a05b144dd0d9ddcf932\` ON \`products\``);
        await queryRunner.query(`DROP INDEX \`IDX_464f927ae360106b783ed0b410\` ON \`products\``);
        await queryRunner.query(`DROP INDEX \`IDX_9a5f6868c96e0069e699f33e12\` ON \`products\``);
        await queryRunner.query(`DROP INDEX \`IDX_1530a6f15d3c79d1b70be98f2b\` ON \`products\``);
        await queryRunner.query(`DROP INDEX \`IDX_4dcd2cd0cf988da1681469a0f4\` ON \`products\``);
        await queryRunner.query(`DROP INDEX \`IDX_3db55e142a0d99d53e7e2ba207\` ON \`products\``);
        await queryRunner.query(`DROP TABLE \`products\``);
        await queryRunner.query(`DROP INDEX \`IDX_b15428f362be2200922952dc26\` ON \`brands\``);
        await queryRunner.query(`DROP INDEX \`IDX_96db6bbbaa6f23cad26871339b\` ON \`brands\``);
        await queryRunner.query(`DROP TABLE \`brands\``);
        await queryRunner.query(`DROP INDEX \`IDX_420d9f679d41281f282f5bc7d0\` ON \`categories\``);
        await queryRunner.query(`DROP INDEX \`IDX_8b0be371d28245da6e4f4b6187\` ON \`categories\``);
        await queryRunner.query(`DROP TABLE \`categories\``);
        await queryRunner.query(`DROP INDEX \`IDX_17d1817f241f10a3dbafb169fd\` ON \`users\``);
        await queryRunner.query(`DROP INDEX \`IDX_97672ac88f789774dd47f7c8be\` ON \`users\``);
        await queryRunner.query(`DROP TABLE \`users\``);
        await queryRunner.query(`DROP INDEX \`IDX_e5eb7a3c7766f941fe16b9edec\` ON \`user_sessions\``);
        await queryRunner.query(`DROP INDEX \`IDX_e9658e959c490b0a634dfc5478\` ON \`user_sessions\``);
        await queryRunner.query(`DROP INDEX \`IDX_0c30b2278a5d31e23fcaee4887\` ON \`user_sessions\``);
        await queryRunner.query(`DROP TABLE \`user_sessions\``);
    }

}
